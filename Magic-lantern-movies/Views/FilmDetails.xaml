<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Views.FilmDetails"
             Title="FilmDetails"
             xmlns:models="clr-namespace:Models"
             xmlns:vm="clr-namespace:ViewModels"
             x:DataType="vm:MovieDetailsViewModel"
             Shell.NavBarIsVisible="False">
    <ScrollView>
        <VerticalStackLayout BackgroundColor="Black">
        <Grid Margin="0"
      RowDefinitions="*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*,*"
      BackgroundColor="Black">
            <Image Source="{Binding CurrentMovie.BackImage}" Grid.Row="0"/>
            <BoxView VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand" Grid.Row="0">
                <BoxView.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="Transparent" Offset="0" />
                        <GradientStop Color="Black" Offset="1" />
                    </LinearGradientBrush>
                </BoxView.Background>
            </BoxView>
            <Label Text="{Binding CurrentMovie.Name}"
                HorizontalOptions="Center"
                TextColor="White"
                Grid.Row="1"
                FontSize="20"
                Margin="5"/>
            <Label Text="{Binding CurrentMovie.PublicationDate,StringFormat='({0:yyyy})'}"
           HorizontalOptions="Center"
           TextColor="White"
           Grid.Row="2"
           FontSize="20"
           Margin="5"/>
            <Image Source="{Binding CurrentMovie.Image}" 
           Aspect="AspectFit" 
           Grid.Row="3"
           HeightRequest="300" 
           WidthRequest="300"
           Margin="0,10"/>
            <Label Text="{Binding CurrentMovie.FormattedDuration}"
           HorizontalOptions="Center"
           TextColor="White"
           Grid.Row="4"
           FontSize="20"/>
            <Label Text="{Binding CurrentMovie.Rating}"
           HorizontalOptions="Center"
           TextColor="White"
           Grid.Row="5"
           FontSize="15"
           Padding="0,10,0,30"/>
            <CollectionView ItemsSource="{Binding CurrentMovie.Categories}"
                    Grid.Row="6" Margin="5">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Horizontal" ItemSpacing="1"/>
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="x:String">
                        <Grid>
                            <Grid RowDefinitions="Auto, *, Auto">
                                <Border>
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="10,20,20,10"/>
                                    </Border.StrokeShape>
                                    <Label Grid.Row="1"
                                   Text="{Binding .,StringFormat='{0}'}"
                                   TextColor="White"
                                   HorizontalOptions="Center"
                                   Padding="20,10"
                                   FontSize="13"/>
                                </Border>
                            </Grid>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            <BoxView Grid.Row="7" HeightRequest="1" Color="Grey"
             Margin="00,10"/>
                <Label Text="{Binding CurrentMovie.Description}"
           Grid.Row="8"
           TextColor="White"
           FontSize="15"
           Margin="5"/>
                <BoxView Grid.Row="10" HeightRequest="1" Color="Grey"
             Margin="00,10"/>

            <Button Grid.Row="11"
           Text="View Comments"
           TextColor="White"
            BackgroundColor="Gray"
            HeightRequest="25"
            WidthRequest="250">

            </Button>

        </Grid>
    </VerticalStackLayout>
    </ScrollView>
</ContentPage>